
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Usuarios</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#09CACD">
    
    <script src=
"https://unpkg.com/@webcomponents/webcomponentsjs@2.1.3/webcomponents-loader.js">
    </script>
    <script defer src="/__/firebase/5.5.4/firebase-app.js"></script>
    <script defer src="/__/firebase/5.5.4/firebase-auth.js"></script>
    <script defer src="/__/firebase/5.5.4/firebase-database.js"></script>
    <script defer src="/__/firebase/init.js"></script>
    <script type="module" src="js/form-navegacion.js"></script>
    <link rel="stylesheet" href="css/misestilos.css">
    <link rel="shortcut icon" href="asd.ico" />
  </head>
  <body class="vista">
      <form-navegacion></form-navegacion>
    <header>
      <h1>CATEGORIAS DE SERVICIOS</h1>
      <a accesskey="A" href="usuario_nuevoCli.html">Solicitar Servicio </a>
    </header>
    <main role="main">
      <ul id="lista"></ul>
      <template id="templateDatos">
        <li>
          <a></a>
          <div></div>
        </li>
      </template>
      <template id="templateVacio">
        <li>No se encontraron usuarios.</li>
      </template>
    </main>
    <script type="module">
      import {Util} from "./js/util.js";
      import {Dao} from "./js/dao.js";
      import {Navegacion} from "./js/navegacion.js";

      Util.registraServiceWorker();
      const ul = document.getElementById("lista");
      const templateDatos = document.getElementById("templateDatos");
      const templateVacio = document.getElementById("templateVacio");
      document.addEventListener('DOMContentLoaded', () => {
        Navegacion.sesionInicia(["Cliente"]);
        Dao.observa("Servicio", "cateser", 
            servicio => ({
                texto1: servicio.id,
              texto2: servicio.detalles,
              texto3: servicio
                  ? Object.keys(servicio.cateser).join(", ") : ""}),
            lista => Util.agregaFilas(ul, lista, "ServiciosConsultas.html",
                templateDatos, templateVacio));


      });
    </script>
</body>

<footer id="pie">
  Derechos Reservados &copy; NIGTHWOLF TEC 2018
</footer>

</html>